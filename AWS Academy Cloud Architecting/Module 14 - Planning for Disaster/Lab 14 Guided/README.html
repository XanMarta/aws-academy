<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>README</title><!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
<style type="text/css">
    #ssb_alexa_blue {
        background-color: #3366ff;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #3366ff;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_alexa_ocean {
        background-color: #00a0d2;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00a0d2;
        white-space: nowrap
    }
    #ssb_alexa_sand {
        background-color: #f2f2f2;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #dcdcdc;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_alexa_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #00a0d2;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_blue {
        background-color: #257ACF;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_orange {
        background-color: #E36000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_red {
        background-color: #D90000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_dark_blue {
        color: white;
        background-color: darkblue;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_grafana_blue {
        background-color: #00678b;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00678b;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_green {
        background-color: #629300;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #629300;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_orange {
        background-color: #ec8427;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #ec8427;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grey {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 5px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_grey_square {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 1px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_blue {
        background-color: #00A1C9;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00A1C9;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_iot_grey {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: gray;
        position: relative;
        top: -1px;
        border-color: gray;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00A1C9;
        position: relative;
        top: -1px;
        border-color: #00A1C9;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_kibana_blue {
        background-color: #0079a5;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0079a5;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_kibana_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #0079a5;
        position: relative;
        top: -1px;
        border-color: #0079a5;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_maroon {
        color: white;
        background-color: darkred;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssl_orange {
        color: #ec7211;
        font-weight: bold
    }
    #ssb_orange_oval {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_oval {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 20px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_start_lab {
        background-color: #34A853;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_open_console {
        background-color: white;
        font-family: Google Sans;
        font-weight: bold;
        font-size: 90%;
        color: #1a73e8;
        border-color: #dadce0;
        border-radius: 4px;
        border-width: 2px;
        border-style: solid;
        outline-color: #ffffff;
        padding-top: 5px;
        padding-bottom: 5px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_rds_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_red {
        background-color: #D93025;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_red_oval {
        background-color: #D93025;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_s3_blue {
        background-color: #329AD6;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_s3_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #329AD6;
        position: relative;
        top: -1px;
        border-color: #329AD6;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_services {
        background-color: #232f3e;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_square_lex {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #1166bb;
        position: relative;
        top: -1px;
        border-color: #c4cbcd;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_ssm_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssbox_cloudformation_blue {
        font-weight: bold;
        background-color: #f1faff;
        font-size: 90%;
        border-color: #00A1C9;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssl_alexa_ocean {
        color: #00a0d2;
        font-weight: bold
    }
    #ssl_blue {
        color: #1166bb;
        font-weight: bold
    }
    #ssl_catalog_orange {
        color: #E16706;
        font-weight: bold
    }
    #ssb_codestar_blue {
        background-color: #329AD6;
        font-weight: bold;
        font-size: 80%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_cognito_blue {
        background-color: #2a7fd4;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0055aa;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_eb_blue {
        background-color: #0f6dca;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0055aa;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
        white-space: nowrap;
    }
    #ssb_eb_grey {
        background-color: #e5e5e5;
        font-weight: bold;
        font-size: 90%;
        color: 444444;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #bbbbbb;
        border-width: 1px;
        border-style: solid;
        border-radius: 4px;
        white-space: nowrap
    }
    #ssb_voc_grey {
        background-color: #F2F3F4;
        font-size: 90%;
        color: black;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: grey;
        border-width: 1px;
        border-style: solid;
        white-space: nowrap
    }
</style><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.701961); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid-page; break-before: avoid-page; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { break-after: avoid-page; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial; }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color : #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

html {
    font-size: 16px;
}

body {
    font-family: "Amazon Ember", "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color      : rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width     : 860px;
    margin        : 0 auto;
    padding       : 30px;
    padding-bottom: 100px;
}

#write>ul:first-child,
#write>ol:first-child {
    margin-top: 30px;
}

a {
    color: #4183C4;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    position     : relative;
    margin-top   : 1rem;
    margin-bottom: 1rem;
    font-weight  : bold;
    line-height  : 1.4;
    cursor       : text;
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit;
}

h2 tt,
h2 code {
    font-size: inherit;
}

h3 tt,
h3 code {
    font-size: inherit;
}

h4 tt,
h4 code {
    font-size: inherit;
}

h5 tt,
h5 code {
    font-size: inherit;
}

h6 tt,
h6 code {
    font-size: inherit;
}

h1 {
    padding-bottom: .3em;
    font-size     : 2.25em;
    line-height   : 1.2;
    border-bottom : 1px solid #eee;
}

h2 {
    padding-bottom: .3em;
    font-size     : 1.75em;
    line-height   : 1.225;
    border-bottom : 1px solid #eee;
}

h3 {
    font-size  : 1.5em;
    line-height: 1.43;
}

h4 {
    font-size: 1.25em;
}

h5 {
    font-size: 1em;
}

h6 {
    font-size: 1em;
    color    : #777;
}

p,
blockquote,
ul,
ol,
dl,
table {
    margin: 0.8em 0;
}

li>ol,
li>ul {
    margin: 0 0;
}

hr {
    height          : 2px;
    padding         : 0;
    margin          : 16px 0;
    background-color: #e7e7e7;
    border          : 0 none;
    overflow        : hidden;
    box-sizing      : content-box;
}

li p.first {
    display: inline-block;
}

ul,
ol {
    padding-left: 30px;
}

ul:first-child,
ol:first-child {
    margin-top: 0;
}

ul:last-child,
ol:last-child {
    margin-bottom: 0;
}

blockquote {
    border-left: 4px solid #dfe2e5;
    padding    : 0 15px;
    color      : #777777;
}

blockquote blockquote {
    padding-right: 0;
}

table {
    padding   : 0;
    word-break: initial;
}

table tr {
    border-top: 1px solid #dfe2e5;
    margin    : 0;
    padding   : 0;
}

table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}

table tr th {
    font-weight  : bold;
    border       : 1px solid #dfe2e5;
    border-bottom: 0;
    margin       : 0;
    padding      : 6px 13px;
}

table tr td {
    border : 1px solid #dfe2e5;
    margin : 0;
    padding: 6px 13px;
}

table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}

table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0, 28, 36, .3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border          : 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius   : 3px;
    padding         : 0;
    padding         : 2px 4px 0px 4px;
    font-size       : 0.9em;
}

code {
    background-color: #f3f4f4;
    padding         : 0 2px 0 2px;
}

.md-fences {
    margin-bottom : 15px;
    margin-top    : 15px;
    padding-top   : 8px;
    padding-bottom: 6px;
}


.md-task-list-item>input {
    margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }

    table,
    pre {
        page-break-inside: avoid;
    }

    pre {
        word-wrap: break-word;
    }
}

.md-fences {
    background-color: #f8f8f8;
}

#write pre.md-meta-block {
    padding         : 1rem;
    font-size       : 85%;
    line-height     : 1.45;
    background-color: #f7f7f7;
    border          : 0;
    border-radius   : 3px;
    color           : #777777;
    margin-top      : 0 !important;
}

.mathjax-block>.code-tooltip {
    bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before {
    left: -1.5625rem;
    top : .375rem;
}

#write>h4.md-focus:before {
    left: -1.5625rem;
    top : .285714286rem;
}

#write>h5.md-focus:before {
    left: -1.5625rem;
    top : .285714286rem;
}

#write>h6.md-focus:before {
    left: -1.5625rem;
    top : .285714286rem;
}

.md-image>.md-meta {
    /*border     : 1px solid #ddd;*/
    border-radius: 3px;
    padding      : 2px 0px 0px 4px;
    font-size    : 0.9em;
    color        : inherit;
}

.md-tag {
    color  : #a7a7a7;
    opacity: 1;
}

.md-toc {
    margin-top    : 20px;
    padding-bottom: 20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border          : 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color    : #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style    : solid;
    border-width    : 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header,
.context-menu,
.megamenu-content,
footer {
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color     : white;
    background: #999;
}


</style><title>README</title>
</head>
<body class='typora-export'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='module-14----guided-lab-hybrid-storage-and-data-migration-with-aws-storage-gateway-file-gateway'><span>Module 14 â€“ Guided Lab: Hybrid Storage and Data Migration with AWS Storage Gateway File Gateway</span></h1><h2 id='lab-overview-and-objectives'><span>Lab overview and objectives</span></h2><p><span>In this lab, you will use the AWS Storage Gateway File Gateway service to attach a Network File System (NFS) mount to an on-premises data store. You will then replicate that data to an S3 bucket in AWS. Additionally, you will configure advanced Amazon S3 features, like Amazon S3 lifecycle policies and cross-Region replication.</span></p><p><span>After completing this lab, you should be able to:</span></p><ul><li><span>Configure a File Gateway with an NFS file share and attach it to a Linux instance</span></li><li><span>Migrate a set of data from the Linux instance to an S3 bucket</span></li><li><span>Create and configure a primary S3 bucket to migrate on-premises server data to AWS</span></li><li><span>Create and configure a secondary S3 bucket to use for cross-Region replication</span></li><li><span>Create an S3 lifecycle policy to automatically manage data in a bucket</span></li></ul><br><h2 id='duration'><span>Duration</span></h2><p><span>This lab will require approximately </span><strong><span>90 minutes</span></strong><span> to complete.</span></p><br><h2 id='aws-service-restrictions'><span>AWS service restrictions</span></h2><p><span>In this lab environment, access to AWS services and service actions might be restricted to the ones that are needed to complete the lab instructions. You might encounter errors if you attempt to access other services or perform actions beyond the ones that are described in this lab.</span></p><br><h2 id='accessing-the-aws-management-console'><span>Accessing the AWS Management Console</span></h2><ol start='' ><li><p><span>At the top of these instructions, choose </span><span id="ssb_voc_grey"><span>Start Lab</span></span><span> to launch your lab.</span></p><p><span>A </span><strong><span>Start Lab</span></strong><span> panel opens, and it displays the lab status.</span></p><p><i class="fas fa-info-circle"></i><span> </span><strong><span>Tip</span></strong><span>: If you need more time to complete the lab, restart the timer for the environment by choosing the </span><span id="ssb_voc_grey"><span>Start Lab</span></span><span> button again.</span></p></li><li><p><span>Wait until the </span><strong><span>Start Lab</span></strong><span> panel displays the message </span><em><span>Lab status: ready</span></em><span>, then close the panel by choosing the </span><strong><span>X</span></strong><span>.</span></p></li><li><p><span>At the top of these instructions, choose </span><span id="ssb_voc_grey"><span>AWS</span></span><span>.</span></p><p><span>This action opens the AWS Management Console in a new browser tab. The system automatically logs you in.</span></p><p><i class="fas fa-exclamation-triangle"></i><span> </span><strong><span>Tip</span></strong><span>: If a new browser tab does not open, a banner or icon is usually at the top of your browser with the message that your browser is preventing the site from opening pop-up windows. Choose the banner or icon, and then choose </span><strong><span>Allow pop-ups</span></strong><span>.</span></p></li><li><p><span>Arrange the </span><strong><span>AWS Management Console</span></strong><span> tab so that it displays alongside these instructions. Ideally, you will have both browser tabs open at the same time so that you can follow the lab steps more easily.</span></p><p><i class="fas fa-exclamation-triangle"></i><span> </span><strong><span>Do not change the Region unless specifically instructed to do so</span></strong><span>.</span></p></li></ol><br><h2 id='task-1-reviewing-the-lab-architecture'><span>Task 1: Reviewing the lab architecture</span></h2><p><span>This lab environment uses a total of three AWS Regions. A Linux EC2 instance that emulates an on-premises server is deployed to the us-east-1 (N. Virginia) Region. The Storage Gateway virtual appliance is deployed to the same Region as the Linux server. In a real-world scenario, the appliance would be deployed in a VMware vSphere or Microsoft Hyper-V environment, or as a physical Storage Gateway appliance.</span></p><p><span>The primary S3 bucket is created in the us-east-2 (Ohio) Region. Data from the Linux host is copied to the primary S3 bucket. This bucket can also be called the </span><em><span>source</span></em><span>.</span></p><p><span>The secondary S3 bucket is created in the us-west-2 (Oregon) Region. This secondary bucket is the </span><em><span>target</span></em><span> for the cross-Region replication policy. It can also be called the </span><em><span>destination</span></em><span>.</span></p><p><img src="images/spl-223-architecture-diagram.png" referrerpolicy="no-referrer" alt="Lab architecture diagram"></p><br><h2 id='task-2-creating-the-primary-and-secondary-s3-buckets'><span>Task 2: Creating the primary and secondary S3 buckets</span></h2><p><span>Before you configure the File Gateway, you must create the primary S3 bucket (or the source) where you will replicate the data. You will also create the secondary bucket (or the destination) that will be used for cross-Region replication.</span></p><ol start='5' ><li><span>In the </span><strong><span>AWS Management Console</span></strong><span>, on the </span><span id="ssb_services"><span>Services</span></span><span> menu, select </span><strong><span>S3</span></strong><span>.</span></li><li><span>Choose </span><span id="ssb_orange"><span>Create bucket</span></span><span> then configure these settings:</span></li></ol><ul><li><strong><span>Bucket name:</span></strong><span> Create a name that you can remember easily. It must be globally unique.</span></li><li><strong><span>Region:</span></strong><span> </span><em><span>US East (Ohio) us-east-2</span></em></li><li><strong><span>Bucket Versioning:</span></strong><span> </span><em><span>Enable</span></em></li></ul><p><span>   </span><i class="fas fa-info-circle"></i><span> For cross-Region replication, you must enable versioning for both the source and destination buckets.  </span></p><ol start='7' ><li><span>Choose </span><span id="ssb_orange"><span>Create bucket</span></span></li><li><span>Repeat the previous steps in this task to create a second bucket with the following configuration:</span></li></ol><ul><li><strong><span>Bucket name:</span></strong><span> Create a name you can easily remember. It must be globally unique.</span></li><li><strong><span>Region:</span></strong><span> </span><em><span>US West (Oregon) us-west-2</span></em></li><li><strong><span>Versioning:</span></strong><span> </span><em><span>Enable</span></em></li></ul><br><h2 id='task-3-enabling-cross-region-replication'><span>Task 3: Enabling cross-Region replication</span></h2><p><span>Now that you created your two S3 buckets and enabled versioning on them, you can create a replication policy.</span></p><ol start='9' ><li><span>Select the name of the </span><em><span>source</span></em><span> bucket that you created in the US East (Ohio) Region.</span></li><li><span>Select the </span><strong><span>Management</span></strong><span> tab, under Replication rules select </span><span id="ssb_white"></i><span> Create replication rule</span></span></li><li><span>Configure the following for </span><strong><span>Replication rule configuration</span></strong><span>:</span></li></ol><ul><li><p><strong><span>Replication rule name:</span></strong><span> </span><code>crr-full-bucket</code></p></li><li><p><strong><span>Status</span></strong><span> </span><em><span>Enabled</span></em></p></li><li><p><strong><span>Choose a rule scope:</span></strong><span> </span><em><span>This rule applies to all objects in the bucket</span></em></p></li><li><p><strong><span>Destination:</span></strong></p><ul><li><i class="far fa-dot-circle"></i><span> </span><em><span>Choose a bucket in this account</span></em></li><li><span>Click </span><span id="ssb_white"></i><span> Browse S3</span></span><span> and select the bucket you created in US West (Oregon) Region.</span></li><li><span>Select </span><span id="ssb_orange"></i><span> Choose path</span></span></li></ul></li><li><p><strong><span>IAM role:</span></strong><span> </span><em><span>S3-CRR-Role</span></em><span> </span></p><ul><li><strong><span>Note:</span></strong><span>  To find the AWS Identity and Access Management (IAM) role, in the search box, enter: </span><code>S3-CRR</code><span> (This role was pre-created with the required permissions for this lab)</span></li></ul></li></ul><ol start='12' ><li><span>Choose </span><span id="ssb_orange"></i><span> Save</span></span></li><li><span>Return to the bucket you created in the US East (Ohio) Region.</span></li><li><span>Click </span><span id="ssb_orange"></i><span> Upload</span></span><span> to upload a file from your local computer to the bucket.</span></li></ol><p><span>   </span><em><span>For this lab, use a small file that does not contain sensitive information, such as a blank text file.</span></em></p><ol start='15' ><li><span>Select  </span><span id="ssb_white"></i><span> Add files</span></span><span> then click </span><span id="ssb_orange"></i><span>Upload</span></span><span> </span></li><li><span>Wait for the file to upload, then return to the bucket you created in the US West (Oregon) Region. The file that you uploaded should also be copied to this bucket.</span></li></ol><p><span>   </span><strong><span>Note:</span></strong><span> You may need to choose refresh </span><i class="fas fa-redo"></i><span> the console for the object to appear.</span></p><br><h2 id='task-4-configuring-the-file-gateway-and-creating-an-nfs-file-share'><span>Task 4: Configuring the File Gateway and creating an NFS file share</span></h2><p><span>In this task, you will deploy the File Gateway appliance as an Amazon Elastic Compute Cloud (Amazon EC2) instance. You will then configure a cache disk, select an S3 bucket to synchronize your on-premises files to, and select an IAM policy to use. Finally, you will create an NFS file share on the File Gateway.</span></p><ol start='17' ><li><span>At the top-left, choose the </span><span id="ssb_services"><span>Services</span></span><span> menu, then select </span><strong><span>Storage Gateway</span></strong><span>.</span></li></ol><p><span>   You can also search for </span><em><span>Storage Gateway</span></em><span> from the top of the </span><strong><span>Services</span></strong><span> menu to make locating it easier.</span></p><ol start='18' ><li><span>At the top-right of the console, verify that the current Region is </span><em><span>N. Virginia</span></em><span>.</span></li><li><span>Choose </span><span id="ssb_orange"></i><span> Create gateway</span></span></li><li><span>Select </span><strong><span>Amazon S3 File gateway</span></strong><span>, then choose </span><span id="ssb_orange"></i><span> Next</span></span></li><li><span>Select </span><strong><span>Amazon EC2</span></strong><span>, then choose the </span><span id="ssb_white"></i><span> </span><i class="fas fa-external-link-alt"></i><span> Launch instance</span></span><span> button.</span></li></ol><p><span>   A new tab opens to the EC2 instance launch wizard. This link automatically selects the correct Amazon Machine Image (AMI) that must be used for the File Gateway appliance.</span></p><ol start='22' ><li><span>Select the </span><strong><span>t2.xlarge</span></strong><span> instance type, then choose </span><span id="ssb_grey"></i><span> Next: Configure Instance Details</span></span></li></ol><p><span>   </span><strong><span>Note:</span></strong><span> t2.xlarge is the only instance type that you can select in this lab environment. If you select any other instance type, it will result in an error message at the end of the wizard.</span></p><p><span>   </span><i class="fas fa-info-circle"></i><span> The t2.xlarge instance type is used only as an example in this lab. For correct appliance sizing when you deploy a Storage Gateway appliance, refer to the </span><a href="https://docs.aws.amazon.com/storagegateway/latest/userguide/Requirements.html#requirements-hardware-storage" target="_blank"><span>Storage Gateway documentation</span></a><span>.</span></p><ol start='23' ><li><span>On the </span><strong><span>Configure instance details</span></strong><span> screen, configure these settings:</span></li></ol><ul><li><p><strong><span>Number of instances:</span></strong><span> </span><code>1</code></p></li><li><p><strong><span>Network:</span></strong><span> </span><em><span>On-Prem-VPC</span></em></p></li><li><p><strong><span>Subnet:</span></strong><span> </span><em><span>On-Prem-Subnet</span></em></p></li><li><p><strong><span>Auto-assign Public IP:</span></strong><span> </span><em><span>Use subnet setting</span></em><span> (Enable)</span></p></li><li><p><span>Accept the default values for the remaining options</span></p><p><strong><span>Note</span></strong><span>: You can ignore warning messages, such as: </span><em><span>You do not have permissions to list instance profiles. Contact your administrator, or check your IAM permissions.</span></em></p></li></ul><ol start='24' ><li><span>Choose </span><span id="ssb_grey"></i><span> Next: Add Storage</span></span></li><li><span>Choose </span><span id="ssb_grey"></i><span> Add New Volume</span></span><span> and configure these settings:</span></li></ol><ul><li><strong><span>Volume Type:</span></strong><span> </span><em><span>EBS</span></em></li><li><strong><span>Device:</span></strong><span> </span><em><span>/dev/sdb</span></em></li><li><strong><span>Size (GiB):</span></strong><span> </span><code>150</code></li><li><strong><span>Volume Type:</span></strong><span> </span><em><span>General Purpose SSD (gp2)</span></em></li><li><strong><span>Delete on Termination:</span></strong><span> </span><i class="far fa-check-square"></i></li></ul><ol start='26' ><li><span>Choose </span><span id="ssb_grey"></i><span> Next: Add Tags</span></span></li><li><span>Choose </span><span id="ssb_grey"></i><span> Add Tag</span></span><span> and configure these settings:</span></li></ol><ul><li><strong><span>Key:</span></strong><span> </span><code>Name</code></li><li><strong><span>Value:</span></strong><span> </span><code>File Gateway Appliance</code></li><li><strong><span>Instances:</span></strong><span> </span><i class="far fa-check-square"></i></li><li><strong><span>Volumes:</span></strong><span> </span><i class="far fa-check-square"></i></li></ul><p><span>   </span><strong><span>Note:</span></strong><span> Tags are case-sensitive.</span></p><ol start='28' ><li><span>Choose </span><span id="ssb_grey"></i><span> Next: Configure Security Group</span></span></li><li><span>Choose </span><strong><span>Select an existing security group</span></strong><span>, and then select:</span></li></ol><ul><li><p><em><span>File Gateway activation and NFS access ports</span></em></p><ul><li><p><span>This security group is configured to allow traffic through ports 80 (HTTP), 443 (HTTPS), 53 (DNS), 123 (NTP), and 2049 (NFS). These ports enable the activation of the File Gateway appliance. They also enable connectivity from the Linux server to the NFS share that you will create on the File Gateway.</span></p><p><span>For additional information about the ports used by Storage Gateway, refer to the </span><a href="https://docs.aws.amazon.com/storagegateway/latest/userguide/Requirements.html#networks" target="_blank"><span>Storage Gateway documentation</span></a><span>.</span></p></li></ul></li><li><p><em><span>On-Prem SSH Access</span></em></p><ul><li><span>This security group is configured to allow Secure Shell (SSH) connections on port 22.</span></li></ul></li></ul><p><span>   </span><img src="images/security-group-selection.PNG" referrerpolicy="no-referrer" alt="Security Group selection"></p><ol start='30' ><li><p><span>Choose </span><span id="ssb_blue"></i><span> Review and Launch</span></span></p><p><strong><span>Note:</span></strong><span> You will see warning messages at the top of the next screen. You can safely disregard these warnings for this lab. To prevent unwanted or malicious connections to your instances in a production environment, you should always create security groups that are as restrictive as possible.</span></p></li><li><p><span>Choose </span><span id="ssb_blue"></i><span> Launch</span></span></p></li><li><p><span>On the </span><strong><span>Select an existing key pair or create a new key pair</span></strong><span> screen, configure these settings:</span></p></li></ol><ul><li><strong><span>Choose an existing key pair</span></strong></li><li><strong><span>Select a key pair:</span></strong><span> Choose the available key</span></li><li><i class="far fa-check-square"></i><span> </span><em><span>I acknowledge that I have access to the selected private key file...</span></em></li></ul><p><span>   </span><strong><span>Note:</span></strong><span> This key pair is provided on the </span><strong><span>Details &gt; Show &gt; Credentials</span></strong><span> page for this lab.</span></p><ol start='33' ><li><p><span>Choose </span><span id="ssb_blue"></i><span> Launch Instances</span></span></p></li><li><p><span>Choose </span><span id="ssb_blue"></i><span> View Instances</span></span></p><p><span>Your File Gateway appliance instance should take a few minutes to deploy.</span></p></li><li><p><span>Monitor the status of the deployment and wait for </span><strong><span>Status Checks</span></strong><span> to complete.</span></p><p><strong><span>Note:</span></strong><span> You might need to choose the refresh </span><i class="fas fa-redo"></i><span> button within the AWS console.</span></p></li><li><p><span>Select your File Gateway instance from the list, then at the bottom of the screen, locate the </span><strong><span>IPv4 Public IP</span></strong><span> address and copy it. You will use this IP address when you complete the File Gateway deployment.</span></p></li><li><p><span>Return to the </span><strong><span>AWS Storage Gateway</span></strong><span> tab in your browser. It should still be at the </span><strong><span>Select host platform</span></strong><span> screen.</span></p></li><li><p><span>Verify that </span><strong><span>Amazon EC2</span></strong><span> is selected, then choose </span><span id="ssb_orange"></i><span> Next</span></span></p></li><li><p><span>For the </span><strong><span>Service endpoint</span></strong><span>, select </span><strong><span>Public</span></strong><span>, and then choose </span><span id="ssb_orange"></i><span> Next</span></span></p></li><li><p><span>Paste the </span><strong><span>IPv4 Public IP</span></strong><span> address that you copied from your File Gateway Appliance instance, and then choose </span><span id="ssb_orange"></i><span> Next</span></span></p></li><li><p><span>On the </span><strong><span>Activate gateway</span></strong><span> screen, configure these settings:</span></p></li></ol><ul><li><strong><span>Gateway time zone:</span></strong><span> </span><em><span>GMT -5:00 Eastern Time (US &amp; Canada)</span></em></li><li><strong><span>Gateway name:</span></strong><span> </span><code>File Gateway</code></li></ul><ol start='42' ><li><span>Choose </span><span id="ssb_orange"></i><span> Activate gateway</span></span></li><li><span>On the </span><strong><span>Configure local disks</span></strong><span> screen, wait for the </span><em><span>Preparing local disks</span></em><span> status to show that it finished processing (approximately 1 minute).</span></li><li><span>After the processing is complete, go to </span><strong><span>Allocated to</span></strong><span> and select </span><strong><span>Cache</span></strong><span>. </span></li><li><span>Select </span><span id="ssb_orange"></i><span> Save and continue</span></span></li><li><span>On the </span><strong><span>Gateway health log group</span></strong><span> screen, select </span><strong><span>Disable logging</span></strong><span>.</span></li><li><span>Select </span><span id="ssb_orange"></i><span> Save and continue</span></span></li><li><span>Review then select </span><span id="ssb_orange"></i><span> Finish</span></span></li><li><span>Wait for the File Gateway status to change to </span><em><span>Running</span></em><span> (approximately 1â€“2 minutes), then select the </span><strong><span>File Gateway</span></strong><span> entry and choose </span><span id="ssb_white"></i><span> Create file share</span></span></li><li><span>On the </span><strong><span>File share settings configuration</span></strong><span> screen, configure these settings:</span></li></ol><ul><li><strong><span>Gateway:</span></strong><span> Select the name of the File Gateway that you just created (which should be </span><em><span>File Gateway</span></em><span>)</span></li><li><strong><span>Amazon S3 bucket name</span></strong><span>: Enter the name of the source bucket that you created in the US East (Ohio) us-east-2 Region in Task 1.</span></li><li><strong><span>AWS Region:</span></strong><span> </span><em><span>US East (Ohio) us-east-2</span></em></li><li><strong><span>Access objects using</span></strong><span>: </span><em><span>Network File System (NFS)</span></em></li></ul><ol start='51' ><li><span>Choose </span><span id="ssb_orange"></i><span> Next</span></span></li><li><span>On the </span><strong><span>Amazon S3 storage configuration</span></strong><span> screen, configure these settings:</span></li></ol><ul><li><p><strong><span>Storage class for new objects:</span></strong><span> </span><em><span>S3 Standard</span></em></p></li><li><p><strong><span>Object metadata</span></strong><span>:</span></p><ul><li><i class="far fa-check-square"></i><span> </span><em><span>Guess MIME type</span></em></li><li><i class="far fa-check-square"></i><span> </span><em><span>Give bucket owner full control</span></em></li><li><i class="far fa-square"></i><span> Enable </span><em><span>Requester Pays</span></em></li></ul></li><li><p><strong><span>Access your S3 bucket</span></strong><span>: </span><em><span>Use an existing IAM role</span></em></p></li><li><p><strong><span>IAM role:</span></strong><span> Paste the </span><em><span>FgwIamPolicyARN</span></em><span>, which you can retrieve by following these instructions â€“</span></p><ul><li><span>Choose the </span><span id="ssb_voc_grey"><span>Details</span></span><span> dropdown menu above these instructions</span></li><li><span>Select </span><span id="ssb_voc_grey"><span>Show</span></span></li><li><span>Copy the </span><em><span>FgwIamPolicyARN</span></em><span> value</span></li></ul></li></ul><ol start='53' ><li><p><span>Choose </span><span id="ssb_orange"></i><span> Next</span></span></p><p><strong><span>Note:</span></strong><span> You might get a warning message that the file share is accessible from anywhere. For this lab, you can safely disregard this warning. In a production environment, you should always create policies that are as restrictive as possible to prevent unwanted or malicious connections to your instances.</span></p></li><li><p><span>Choose </span><span id="ssb_orange"></i><span> Next</span></span></p></li><li><p><span>Review then select </span><span id="ssb_orange"></i><span> Create</span></span><span> </span></p></li><li><p><span>Monitor the status of the deployment and wait for </span><strong><span>Status</span></strong><span> to change to </span><em><span>Available</span></em><span>, which takes less than a minute.</span></p><p><strong><span>Note:</span></strong><span> If you receive a </span><em><span>user not authorized</span></em><span> message at the top of the screen you can ignore this. This will not affect the lab.</span></p></li></ol><ol start='57' ><li><p><span>Select the file share that you just created. At the bottom of the screen, note the command to mount the file share on Linux. You will need it for the next task.</span></p><p><img src="images/linux-mount-command.PNG" referrerpolicy="no-referrer" alt="Linux Mount Command"></p></li></ol><br><h2 id='task-5-mounting-the-file-share-to-the-linux-instance-and-migrating-the-data'><span>Task 5: Mounting the file share to the Linux instance and migrating the data</span></h2><p><span>Before you can migrate data to the NFS share that you created, you must first mount the share. In this task, you will mount the NFS share on a Linux server, then copy data to the share.</span></p><ol start='58' ><li><span>Connect to the </span><strong><span>On-Prem Linux Server</span></strong><span> instance.</span></li></ol><h3 id='i-classfab-fa-windowsi-microsoft-windows-users'><i class="fab fa-windows"></i><span> Microsoft Windows users</span></h3><p><i class="fas fa-comment"></i><span> These instructions are specifically for Microsoft Windows users. If you are using macOS or Linux, </span><a href="#ssh-MACLinux"><span>skip to the next section</span></a><span>.</span></p><p>&nbsp;</p><ol start='59' ><li><p><span>Above these instructions that you are currently reading, choose the </span><span id="ssb_voc_grey"><span>Details</span></span><span> dropdown menu, and then select </span><span id="ssb_voc_grey"><span>Show</span></span></p><p><span>A </span><strong><span>Credentials</span></strong><span> window opens.</span></p></li><li><p><span>Choose the </span><strong><span>Download PPK</span></strong><span> button and save the </span><strong><span>labsuser.ppk</span></strong><span> file.</span></p></li></ol><p><span>  </span><strong><span>Note:</span></strong><span> Typically, your browser saves the file to the </span><strong><span>Downloads</span></strong><span> directory.</span></p><ol start='61' ><li><span>Note the </span><strong><span>OnPremLinuxInstance</span></strong><span> address, if it is displayed.</span></li><li><span>Exit the </span><strong><span>Details</span></strong><span> panel by choosing the </span><strong><span>X</span></strong><span>.</span></li><li><span>To use SSH to access the EC2 instance, you must use </span><strong><span>PuTTY</span></strong><span>. If you do not have PuTTY installed on your computer, </span><a href="https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe"><span>download PuTTY</span></a><span>.</span></li><li><span>Open </span><strong><span>putty.exe</span></strong><span>.</span></li><li><span>To keep the PuTTY session open for a longer period of time, configure the PuTTY timeout:</span></li></ol><ul><li><span>Choose </span><strong><span>Connection</span></strong></li><li><strong><span>Seconds between keepalives</span></strong><span>: </span><code>30</code></li></ul><ol start='66' ><li><span>Configure your PuTTY session by using the following settings.</span></li></ol><ul><li><p><span>Choose </span><strong><span>Session</span></strong></p></li><li><p><strong><span>Host Name (or IP address):</span></strong><span> Paste the </span><strong><span>OnPremLinuxInstance</span></strong><span> for the instance you noted earlier</span></p><ul><li><span>Alternatively, return to the Amazon EC2 console and choose </span><strong><span>Instances</span></strong></li><li><span>Select the instance you want to connect to</span></li><li><span>In the </span><em><span>Description</span></em><span> tab, copy the </span><strong><span>IPv4 Public IP</span></strong><span> value</span></li></ul></li><li><p><span>Back in PuTTY, in the </span><strong><span>Connection</span></strong><span> list, expand </span><i class="far fa-plus-square"></i><span> </span><strong><span>SSH</span></strong></p></li><li><p><span>Choose </span><strong><span>Auth</span></strong><span> (but don&#39;t expand it)</span></p></li><li><p><span>Choose </span><strong><span>Browse</span></strong></p></li><li><p><span>Browse to and select the </span><strong><span>labsuser.ppk</span></strong><span> file that you downloaded</span></p></li><li><p><span>To select the file, choose </span><strong><span>Open</span></strong></p></li><li><p><span>Choose </span><strong><span>Open</span></strong><span> again</span></p></li></ul><ol start='67' ><li><p><span>To trust and connect to the host, choose </span><strong><span>Yes</span></strong><span>.</span></p></li><li><p><span>When you are prompted with </span><strong><span>login as</span></strong><span>, enter: </span><code>ec2-user</code></p><p><span>This action connects you to the EC2 instance.</span></p></li><li><p><span>Microsoft Windows users: </span><a href="#ssh-after"><span>Click here to skip ahead to the next task.</span></a></p></li></ol><p>&nbsp;</p><p><a id='ssh-MACLinux'></a></p><h3 id='macos-i-classfab-fa-applei-and-linux-i-classfab-fa-linuxi-users'><span>macOS </span><span style="font-size: 30px; color: #808080;"><i class="fab fa-apple"></i></span><span> and Linux </span><span style="font-size: 30px; "><i class="fab fa-linux"></i></span><span> Users</span></h3><p><span>These instructions are specifically for macOS or Linux users. If you are a Windows user, </span><a href="#ssh-after"><span>skip ahead to the next task.</span></a></p><ol start='70' ><li><p><span>Above these instructions that you are currently reading, choose the </span><span id="ssb_voc_grey"><span>Details</span></span><span> dropdown menu, and then select </span><span id="ssb_voc_grey"><span>Show</span></span></p><p><span>A </span><strong><span>Credentials</span></strong><span> window opens.</span></p></li><li><p><span>Choose the </span><strong><span>Download PEM</span></strong><span> button and save the </span><strong><span>labsuser.pem</span></strong><span> file.</span></p></li><li><p><span>Note the </span><strong><span>OnPremLinuxInstance</span></strong><span> address, if it is displayed.</span></p></li><li><p><span>Exit the </span><strong><span>Details</span></strong><span> panel by choosing the </span><strong><span>X</span></strong><span>.</span></p></li><li><p><span>Open a terminal window, and change directory to the directory where the </span><em><span>labsuser.pem</span></em><span> file was downloaded by using the </span><code>cd</code><span> command.</span></p><p><span>For example, if the </span><em><span>labsuser.pem</span></em><span> file was saved to your </span><strong><span>Downloads</span></strong><span> directory, run this command:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cd</span> ~/Downloads</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Change the permissions on the key to be read-only, by running this command:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">chmod</span> <span class="cm-number">400</span> labsuser.pem</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre></li><li><p><span>Run the following command (replace </span><strong><span>&lt;public-ip</span><span>&gt;</span></strong><span> with the </span><strong><span>OnPremLinuxInstance</span></strong><span> address that you copied earlier).</span></p></li></ol><ul><li><span>Alternatively, to find the IP address of the on-premises instance, return to the Amazon EC2 console and select </span><strong><span>Instances</span></strong></li><li><span>Select the instance that you want to connect to</span></li><li><span>In the </span><strong><span>Description</span></strong><span> tab, copy the </span><strong><span>IPv4 Public IP</span></strong><span> value</span></li></ul><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-builtin">ssh</span> <span class="cm-attribute">-i</span> labsuser.pem ec2-user@&lt;public-ip&gt;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><ol start='77' ><li><p><span>When you are prompted to allow the first connection to this remote SSH server, enter </span><code>yes</code><span>.</span></p><p><span>Because you are using a key pair for authentication, you are not prompted for a password.</span></p></li></ol><p><a id='ssh-after'></a></p><br><h4 id='you-should-now-be-connected-to-the-instance'><span>You should now be connected to the instance.</span></h4><ol start='78' ><li><span>On the Linux instance, to view the data that exists on this server, enter the following command:</span></li></ol><p><span>   </span><code>ls /media/data</code></p><p><span>   You should see 20 image files in the .png format.</span></p><ol start='79' ><li><span>Create the directory that will be used to synchronize data with your S3 bucket by using the following command:</span></li></ol><p><span>   </span><code>sudo mkdir -p /mnt/nfs/s3</code></p><ol start='80' ><li><span>Mount the file share on the Linux instance by using the command that you copied at the end of the last task.</span></li></ol><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">sudo</span> mount <span class="cm-attribute">-t</span> nfs <span class="cm-attribute">-o</span> nolock,hard &lt;File-Gateway-appliance-private-IP-address&gt;:/&lt;S3-bucket-name&gt; /mnt/nfs/s3</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">For example:</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">sudo</span> mount <span class="cm-attribute">-t</span> nfs <span class="cm-attribute">-o</span> nolock,hard <span class="cm-number">10</span>.10.1.33:/lab-nfs-bucket /mnt/nfs/s3</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><ol start='81' ><li><p><span>Verify that the share was mounted correctly by entering the following command:</span></p><p><code>df -h</code></p><p><span>The output of the command should be similar to the following example:</span></p></li></ol><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="pseudocode"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="pseudocode"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">[</span><span class="cm-variable">ec2</span><span class="cm-operator">-</span><span class="cm-variable">user</span>@<span class="cm-variable">ip</span><span class="cm-operator">-</span><span class="cm-number">10</span><span class="cm-operator">-</span><span class="cm-number">10</span><span class="cm-operator">-</span><span class="cm-number">1-210</span> <span class="cm-operator">~</span><span class="cm-bracket">]</span>$ <span class="cm-variable">df</span> <span class="cm-operator">-</span><span class="cm-variable">h</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Filesystem</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Size</span> &nbsp;<span class="cm-variable">Used</span> <span class="cm-variable">Avail</span> <span class="cm-variable">Use</span><span class="cm-operator">%</span> <span class="cm-variable">Mounted</span> <span class="cm-variable">on</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">devtmpfs</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">483</span><span class="cm-variable">M</span> &nbsp; <span class="cm-number">64</span><span class="cm-variable">K</span> &nbsp;<span class="cm-number">483</span><span class="cm-variable">M</span> &nbsp; <span class="cm-number">1</span><span class="cm-operator">%</span> /d<span class="cm-variable">ev</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">tmpfs</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">493</span><span class="cm-variable">M</span> &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp;<span class="cm-number">493</span><span class="cm-variable">M</span> &nbsp; <span class="cm-number">0</span><span class="cm-operator">%</span> /d<span class="cm-variable">ev</span>/s<span class="cm-variable">hm</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/d<span class="cm-variable">ev</span>/x<span class="cm-variable">vda1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">7.8</span><span class="cm-variable">G</span> &nbsp;<span class="cm-number">1.1</span><span class="cm-variable">G</span> &nbsp;<span class="cm-number">6.6</span><span class="cm-variable">G</span> &nbsp;<span class="cm-number">14</span><span class="cm-operator">%</span> /</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10.10</span>.<span class="cm-number">1.33</span><span class="cm-bracket">:</span>/l<span class="cm-variable">ab</span><span class="cm-operator">-</span><span class="cm-variable">nfs</span><span class="cm-operator">-</span><span class="cm-variable">bucket</span> &nbsp;<span class="cm-number">8.0</span><span class="cm-variable">E</span> &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp;<span class="cm-number">8.0</span><span class="cm-variable">E</span> &nbsp; <span class="cm-number">0</span><span class="cm-operator">%</span> /m<span class="cm-variable">nt</span>/n<span class="cm-variable">fs</span>/s<span class="cm-number">3</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><ol start='82' ><li><span>Now that you created the mount point, you can copy the data that you want to migrate to Amazon S3 into the share by using this command:</span></li></ol><p><span>   </span><code>cp -v /media/data/*.png /mnt/nfs/s3</code></p><br><h2 id='task-6-verifying-that-the-data-is-migrated'><span>Task 6: Verifying that the data is migrated</span></h2><p><span>You have finished configuring the gateway and copying data into the NFS share. Now, you will verify that the configuration works as intended.</span></p><ol start='83' ><li><span>Choose the </span><span id="ssb_services"><span>Services</span></span><span> menu and select </span><strong><span>S3</span></strong><span>.</span></li><li><span>Select the bucket that you created in the US East (Ohio) Region, and verify that the 20 image files are listed.</span></li></ol><p><span>   </span><strong><span>Note:</span></strong><span> You might need to choose the refresh </span><i class="fas fa-redo"></i><span> in the AWS console.</span></p><ol start='85' ><li><span>Return to the S3 buckets page and select the bucket that you created in the US West (Oregon) Region. Verify that the images files replicated to this bucket, based on the policy that you created earlier.</span></li></ol><p><span>   </span><strong><span>Note:</span></strong><span> S3 Object replication can take up to 15 minutes to complete. Keep refreshing until you see the replicated objects. </span></p><br><p><span>You successfully migrated data to Amazon S3 by using AWS Storage Gateway in File Gateway mode! After your data is stored in Amazon S3, you can act on it like native Amazon S3 data. In this lab, you created a replication policy to copy the data to a secondary Region. You could also perform other operations, such as configuring a lifecycle policy. For example, you could migrate infrequently used data automatically from S3 Standard to Amazon Simple Storage Service Glacier for long-term storage, which can reduce costs. </span></p><br><h2 id='submitting-your-work'><span>Submitting your work</span></h2><ol start='86' ><li><p><span>At the top of these instructions, choose </span><span id="ssb_blue"><span>Submit</span></span><span> to record your progress and when prompted, choose </span><span id="ssb_blue"><span>Yes</span></span><span>.</span></p></li><li><p><span>If the results don&#39;t display after a couple of minutes, return to the top of these instructions and choose </span><span id="ssb_voc_grey"><span>Grades</span></span></p><p><strong><span>Tip</span></strong><span>: You can submit your work multiple times. After you change your work, choose </span><strong><span>Submit</span></strong><span> again. Your last submission is what will be recorded for this lab.</span></p></li><li><p><span>To find detailed feedback on your work, choose </span><span id="ssb_voc_grey"><span>Details</span></span><span> followed by </span><i class="fas fa-caret-right"></i><span> </span><strong><span>View Submission Report</span></strong><span>.</span></p></li></ol><br><h2 id='lab-complete-i-classfas-fa-graduation-capi'><span>Lab complete </span><i class="fas fa-graduation-cap"></i></h2><p><i class="fas fa-flag-checkered"></i><span> Congratulations! You have completed the lab.</span></p><ol start='89' ><li><p><span>Choose </span><span id="ssb_voc_grey"><span>End Lab</span></span><span> at the top of this page, and then select </span><span id="ssb_blue"><span>Yes</span></span><span> to confirm that you want to end the lab.</span></p><p><span>A panel should appear with this message: </span><em><span>DELETE has been initiated... You may close this message box now.</span></em><span>â€‹</span></p></li><li><p><span>Select the </span><strong><span>X</span></strong><span> in the top right corner to close the panel.</span></p></li></ol><br><p>&nbsp;</p><p><em><span>Â©2021 Amazon Web Services, Inc. and its affiliates. All rights reserved. This work may not be reproduced or redistributed, in whole or in part, without prior written permission from Amazon Web Services, Inc. Commercial copying, lending, or selling is prohibited.</span></em></p><p>&nbsp;</p></div></div>
</body>
</html>
